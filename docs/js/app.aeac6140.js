(function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],f=0,l=[];f<i.length;f++)o=i[f],a[o]&&l.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);h&&h(e);while(l.length)l.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var h=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3957:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=n("bb71");n("da64");r["a"].use(a["a"],{iconfont:"md",theme:{primary:"#607d8b",secondary:"#795548",accent:"#009688",error:"#f44336",warning:"#ffc107",info:"#673ab7",success:"#8bc34a"}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:"",color:"primary",dark:""}},[n("v-toolbar-title",{staticClass:"headline"},[n("span",[t._v("兒童篩檢個案追蹤")])]),n("v-spacer")],1),n("v-content",[n("v-container",{attrs:{fluid:"","grid-list-xl":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("read-csv",{on:{input:t.onAnalyze}})],1),t.loading?n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[n("v-progress-circular",{attrs:{size:70,width:7,color:"accent",indeterminate:""}}),n("div",{staticClass:"headline pt-4"},[t._v("\n            分析中...\n          ")])],1):t._e(),n("v-flex",{attrs:{xs12:""}},[n("v-scroll-y-transition",[t.csv.length>0&&!t.loading?n("analysis",{attrs:{csv:t.csv}}):t._e()],1),n("v-scroll-y-transition",[t.errors.length>0&&!t.loading?n("v-alert",{attrs:{value:!0}},[t._v("\n              "+t._s(t.errors)+"\n            ")]):t._e()],1)],1)],1)],1)],1)],1)},o=[],i=n("369b"),c=n.n(i),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{width:"500"}},[n("v-card-title",[n("span",{staticClass:"title"},[t._v("\n      名單上傳\n    ")])]),n("v-card-text",{staticClass:"read-csv"},[n("input",{ref:"file",attrs:{type:"file"},on:{change:t.onUploadFile}})]),n("v-card-actions",[n("v-btn",{attrs:{color:"accent"},on:{click:t.onSubmit}},[t._v("\n      開始分析\n    ")])],1)],1)},h=[],f={name:"ReadCsv",data:function(){return{csv:null}},methods:{onUploadFile:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.csv=t.target.result},r.readAsText(n)},onSubmit:function(){this.$emit("input",this.csv)}},components:{}},l=f,v=(n("e2d5"),n("2877")),T=n("6544"),p=n.n(T),d=n("8336"),_=n("b0af"),m=n("99d9"),b=n("12b2"),g=Object(v["a"])(l,u,h,!1,null,"d3c53570",null),M=g.exports;p()(g,{VBtn:d["a"],VCard:_["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:b["a"]});var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-subheader",[t._v("\n    分析結果\n  ")]),n("v-tabs",[n("v-tab",[t._v("\n      1 ~ 6 月\n    ")]),n("v-tab",[t._v("\n      7 ~ 12 月\n    ")]),n("v-tab-item",[n("data-table",{attrs:{csv:t.beforeJune}})],1),n("v-tab-item",[n("data-table",{attrs:{csv:t.afterJune}})],1)],1)],1)},y=[],L=n("8f99"),x=n.n(L),V=n("340b"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("table",{staticClass:"voh-table voh-table-bordered",attrs:{border:"1"}},[n("thead",[n("tr",[n("th",{attrs:{rowspan:"3"}},[t._v("單位名稱")]),n("th",{attrs:{rowspan:"3"}},[t._v("現住人數")]),n("th",{attrs:{colspan:"3"}},[t._v("外籍配偶子女0 ~ 2歲")]),n("th",{attrs:{colspan:"3"}},[t._v("大陸配偶子女0 ~ 2歲")]),n("th",{attrs:{colspan:"3"}},[t._v("本國籍子女0 ~ 2歲")]),n("th",{attrs:{colspan:"3"}},[t._v("合計")]),n("th",{attrs:{colspan:"3"}},[t._v("外籍配偶子女2 ~ 6歲")]),n("th",{attrs:{colspan:"3"}},[t._v("大陸配偶子女2 ~ 6歲")]),n("th",{attrs:{colspan:"3"}},[t._v("本國籍子女2 ~ 6歲")]),n("th",{attrs:{colspan:"3"}},[t._v("合計")])]),n("tr",[n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("外籍配偶、大陸配偶及本國之子女0 ~ 2歲")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("篩檢人數")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")]),n("th",{attrs:{colspan:"2"}},[t._v("外籍配偶、大陸配偶及本國之子女2 ~ 6歲")]),n("th",{attrs:{rowspan:"2"}},[t._v("通報轉介人數")])]),n("tr",[n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")]),n("th",[t._v("男")]),n("th",[t._v("女")])])]),n("tbody",t._l(t.mapData,function(e,r){return n("tr",{key:r},[n("td",[t._v("\n            "+t._s(r)+"\n          ")]),n("td",[t._v("\n            "+t._s(e.total)+"\n          ")]),n("td",[t._v(t._s(e.foreignLessThanThreeMan))]),n("td",[t._v(t._s(e.foreignLessThanThreeWoman))]),n("td",[t._v(t._s(e.foreignLessThanThreeTransfer))]),n("td",[t._v(t._s(e.chinaLessThanThreeMan))]),n("td",[t._v(t._s(e.chinaLessThanThreeWoman))]),n("td",[t._v(t._s(e.chinaLessThanThreeTransfer))]),n("td",[t._v(t._s(e.twLessThanThreeMan))]),n("td",[t._v(t._s(e.twLessThanThreeWoman))]),n("td",[t._v(t._s(e.twLessThanThreeTransfer))]),n("td",[t._v(t._s(e.foreignLessThanThreeMan+e.chinaLessThanThreeMan+e.twLessThanThreeMan))]),n("td",[t._v(t._s(e.foreignLessThanThreeWoman+e.chinaLessThanThreeWoman+e.twLessThanThreeWoman))]),n("td",[t._v(t._s(e.foreignLessThanThreeTransfer+e.chinaLessThanThreeTransfer+e.twLessThanThreeTransfer))]),n("td",[t._v(t._s(e.foreignMoreThanThreeMan))]),n("td",[t._v(t._s(e.foreignMoreThanThreeWoman))]),n("td",[t._v(t._s(e.foreignMoreThanThreeTransfer))]),n("td",[t._v(t._s(e.chinaMoreThanThreeMan))]),n("td",[t._v(t._s(e.chinaMoreThanThreeWoman))]),n("td",[t._v(t._s(e.chinaMoreThanThreeTransfer))]),n("td",[t._v(t._s(e.twMoreThanThreeMan))]),n("td",[t._v(t._s(e.twMoreThanThreeWoman))]),n("td",[t._v(t._s(e.twMoreThanThreeTransfer))]),n("td",[t._v(t._s(e.foreignMoreThanThreeMan+e.chinaMoreThanThreeMan+e.twMoreThanThreeMan))]),n("td",[t._v(t._s(e.foreignMoreThanThreeWoman+e.chinaMoreThanThreeWoman+e.twMoreThanThreeWoman))]),n("td",[t._v(t._s(e.foreignMoreThanThreeTransfer+e.chinaMoreThanThreeTransfer+e.twMoreThanThreeTransfer))])])}),0)])])],1)},W=[],j=n("3be2"),C=n.n(j),A=n("e814"),S=n.n(A),P={name:"DataTable",props:{csv:{required:!0}},data:function(){return{groups:["苗栗市","通霄鎮","苑裡鎮","西湖鄉","頭屋鄉","公館鄉","銅鑼鄉","三義鄉","竹南鎮","頭份市","後龍鎮","造橋鄉","三灣鄉","南庄鄉","大湖鄉","卓蘭鎮","獅潭鄉","泰安鄉"]}},computed:{mapData:function(){var t=this;return x()(this.groups).mapWithKeys(function(e){var n=t.csv.filter(function(t){return t[1]===e});return[e,{total:n.map(function(t){return S()(t[3],10)}).filter(function(t){return C()(t)}).min(),foreignLessThanThreeMan:n.map(function(t){return S()(t[4],10)}).filter(function(t){return C()(t)}).sum(),foreignLessThanThreeWoman:n.map(function(t){return S()(t[5],10)}).filter(function(t){return C()(t)}).sum(),foreignLessThanThreeTransfer:n.map(function(t){return S()(t[6],10)}).filter(function(t){return C()(t)}).sum(),foreignMoreThanThreeMan:n.map(function(t){return S()(t[7],10)}).filter(function(t){return C()(t)}).sum(),foreignMoreThanThreeWoman:n.map(function(t){return S()(t[8],10)}).filter(function(t){return C()(t)}).sum(),foreignMoreThanThreeTransfer:n.map(function(t){return S()(t[9],10)}).filter(function(t){return C()(t)}).sum(),chinaLessThanThreeMan:n.map(function(t){return S()(t[10],10)}).filter(function(t){return C()(t)}).sum(),chinaLessThanThreeWoman:n.map(function(t){return S()(t[11],10)}).filter(function(t){return C()(t)}).sum(),chinaLessThanThreeTransfer:n.map(function(t){return S()(t[12],10)}).filter(function(t){return C()(t)}).sum(),chinaMoreThanThreeMan:n.map(function(t){return S()(t[13],10)}).filter(function(t){return C()(t)}).sum(),chinaMoreThanThreeWoman:n.map(function(t){return S()(t[14],10)}).filter(function(t){return C()(t)}).sum(),chinaMoreThanThreeTransfer:n.map(function(t){return S()(t[15],10)}).filter(function(t){return C()(t)}).sum(),twLessThanThreeMan:n.map(function(t){return S()(t[16],10)}).filter(function(t){return C()(t)}).sum(),twLessThanThreeWoman:n.map(function(t){return S()(t[17],10)}).filter(function(t){return C()(t)}).sum(),twLessThanThreeTransfer:n.map(function(t){return S()(t[18],10)}).filter(function(t){return C()(t)}).sum(),twMoreThanThreeMan:n.map(function(t){return S()(t[19],10)}).filter(function(t){return C()(t)}).sum(),twMoreThanThreeWoman:n.map(function(t){return S()(t[20],10)}).filter(function(t){return C()(t)}).sum(),twMoreThanThreeTransfer:n.map(function(t){return S()(t[21],10)}).filter(function(t){return C()(t)}).sum()}]}).all()}}},k=P,D=Object(v["a"])(k,O,W,!1,null,"3ac1b341",null),J=D.exports;p()(D,{VCard:_["a"],VCardText:m["b"]});var $={name:"Analysis",props:{csv:{type:Array,required:!0}},data:function(){return{}},computed:{year:function(){return this.csv.length>0?Object(V["getYear"])(Object(V["parse"])(this.csv[0][2])):null},beforeJune:function(){var t=this;return this.year?x()(this.csv).filter(function(e){return Object(V["isBefore"])(Object(V["parse"])(e[2]),new Date(t.year,7,1))}):x()([])},afterJune:function(){var t=this;return this.year?x()(this.csv).filter(function(e){return Object(V["isAfter"])(Object(V["parse"])(e[2]),new Date(t.year,6,30))}):x()([])}},methods:{},components:{DataTable:J}},E=$,F=n("e0c7"),z=n("71a3"),R=n("c671"),q=n("fe57"),B=Object(v["a"])(E,w,y,!1,null,"7a5918a5",null),U=B.exports;p()(B,{VSubheader:F["a"],VTab:z["a"],VTabItem:R["a"],VTabs:q["a"]});var Y={name:"App",components:{ReadCsv:M,Analysis:U},data:function(){return{csv:[],loading:!1,errors:[]}},methods:{onAnalyze:function(t){var e=this;this.loading=!0,this.errors=[];var n=c.a.parse(t),r=n.data,a=n.errors;0===a.length?this.csv=r.splice(1):(this.errors=a,this.csv=[]),setTimeout(function(){e.loading=!1},1200)}}},I=Y,K=n("0798"),G=n("7496"),H=n("a523"),N=n("549c"),Q=n("0e8f"),X=n("a722"),Z=n("490a"),tt=n("0789"),et=n("9910"),nt=n("71d9"),rt=n("2a7f"),at=Object(v["a"])(I,s,o,!1,null,null,null),st=at.exports;p()(at,{VAlert:K["a"],VApp:G["a"],VContainer:H["a"],VContent:N["a"],VFlex:Q["a"],VLayout:X["a"],VProgressCircular:Z["a"],VScrollYTransition:tt["a"],VSpacer:et["a"],VToolbar:nt["a"],VToolbarTitle:rt["a"]});n("def6");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(st)}}).$mount("#app")},def6:function(t,e,n){},e2d5:function(t,e,n){"use strict";var r=n("3957"),a=n.n(r);a.a}});
//# sourceMappingURL=app.aeac6140.js.map